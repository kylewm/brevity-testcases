{
    "autolink": [
        {
            "expected": "This links to a weird domain <a class=\"auto-link\" href=\"http://deals.blackfriday\">deals.blackfriday</a>.",
            "text": "This links to a weird domain deals.blackfriday."
        },
        {
            "expected": "<a class=\"auto-link\" href=\"http://starts.with.a.link\">starts.with.a.link</a> and ends with <a href=\"https://kylewm.com/about#me\">HTML</a>.",
            "text": "starts.with.a.link and ends with <a href=\"https://kylewm.com/about#me\">HTML</a>."
        },
        {
            "expected": "includes <a class=\"auto-link\" href=\"http://ipad-capitalization.com\">Http://ipad-capitalization.com</a>",
            "text": "includes Http://ipad-capitalization.com"
        },
        {
            "expected": "a matched parenthesis: <a class=\"auto-link\" href=\"http://wikipedia.org/Python_(programming_language)\">http://wikipedia.org/Python_(programming_language)</a> and (an unmatched parenthesis <a class=\"auto-link\" href=\"https://en.wikipedia.org/wiki/Guido_van_Rossum\">https://en.wikipedia.org/wiki/Guido_van_Rossum</a>)",
            "text": "a matched parenthesis: http://wikipedia.org/Python_(programming_language) and (an unmatched parenthesis https://en.wikipedia.org/wiki/Guido_van_Rossum)"
        },
        {
            "expected": "heh, yes, I blew up the IRC channel too (<a class=\"auto-link\" href=\"http://indiewebcamp.com/irc/2016-05-23#t1464013757599\">http://indiewebcamp.com/irc/2016-05-23#t1464013757599</a>); sorry about that!",
            "text": "heh, yes, I blew up the IRC channel too (http://indiewebcamp.com/irc/2016-05-23#t1464013757599); sorry about that!"
        },
        {
          "expected": "There's an error in /var/www/doubleloop.net/public_html/xyz.php",
          "text": "There's an error in /var/www/doubleloop.net/public_html/xyz.php"
        },
        {
          "expected": "Send questions to help@woodwind.xyz/or help@silo.pub",
          "text": "Send questions to help@woodwind.xyz/or help@silo.pub"
        },
        {
          "expected": "A URL that starts with an #octothorpe.com a $dollarsign.org an _underscore.net a -dash.com or a .decimalpoint.gov is not a URL at all",
          "text": "A URL that starts with an #octothorpe.com a $dollarsign.org an _underscore.net a -dash.com or a .decimalpoint.gov is not a URL at all"
        }
    ],
    "shorten": [
        {
            "permashortcitation": "ttk.me t4_93",
            "permalink": "http://tantek.com/2015/014/t3/rel-tag-succeeded-web-html-specs",
            "expected": "Despite Technorati dumping tag & blog search long ago, rel-tag succeeded on web, in #HTML spec https://html.spec.whatwg.org/multipage/semantics.html#linkTypes (ttk.me t4_93)",
            "text": "Despite Technorati dumping tag & blog search long ago, rel-tag succeeded on web, in #HTML spec https://html.spec.whatwg.org/multipage/semantics.html#linkTypes",
            "target_length": 140
        },
        {
            "permashortcitation": "ttk.me t4_81",
            "permalink": "http://tantek.com/2015/013/t1/names-ind-ie-indie-vc-not-indieweb",
            "expected": "Despite names,\nind.ie&indie.vc are NOT #indieweb @indiewebcamp\u2026 http://tantek.com/2015/013/t1/names-ind-ie-indie-vc-not-indieweb",
            "text": "Despite names,\nind.ie&indie.vc are NOT #indieweb @indiewebcamp\nindiewebcamp.com/2014-review#Indie_Term_Re-use\n@iainspad @sashtown @thomatronic",
            "target_length": 140
        },
        {
            "expected": "Si H\u00e4ren Engel duurch all, Haus Benn d\u00e9 blo, am wuel Kolrettchen Nuechtegall d\u00e9n. Nun en sch\u00e9i Milliounen, an wee drem d'Welt, do Ierd bl\u00e9nk",
            "text": "Si H\u00e4ren Engel duurch all, Haus Benn d\u00e9 blo, am wuel Kolrettchen Nuechtegall d\u00e9n. Nun en sch\u00e9i Milliounen, an wee drem d'Welt, do Ierd bl\u00e9nk",
            "target_length": 140
        },
        {
            "expected": "Hey #indieweb, the coming storm of webmention Spam may not be far away. Those of us that have input fields to send\u2026 https://ben.thatmustbe.me/note/2015/1/31/1/",
            "permalink": "https://ben.thatmustbe.me/note/2015/1/31/1/",
            "permashortlink": "http://btmb.me/s/6q",
            "text": "Hey #indieweb, the coming storm of webmention Spam may not be far away. Those of us that have input fields to send webmentions manually may already be getting them. Look at the mentions on http://aaronparecki.com/articles/2015/01/22/1/why-not-json",
            "target_length": 140
        },
        {
            "expected": "anybody have a wedding ring with the date engraved in ISO 8601? I\u2019ll be damned if I\u2019m going to wear mm.dd.yyyy anywhere on my person.",
            "permalink": "https://kylewm.com/2015/05/anybody-have-a-wedding-ring-with-the-date-engraved",
            "text": "anybody have a wedding ring with the date engraved in ISO 8601? I\u2019ll be damned if I\u2019m going to wear mm.dd.yyyy anywhere on my person.",
            "target_length": 140
        },
        {
            "expected": "ix freue mich auf die nebenan.hamburg morgen. ich spreche auch ne halbe stunde \u00fcbers #indieweb und\u2026 http://wirres.net/article/articleview/7773/1/6/",
            "permalink": "http://wirres.net/article/articleview/7773/1/6/",
            "permashortlink": "http://wirres.net/7773",
            "text": "ix freue mich auf die nebenan.hamburg morgen. ich spreche auch ne halbe stunde \u00fcbers #indieweb und @reclaim_fm.",
            "target_length": 140
        },
        {
            "expected": "@davewiner I stubbed a page on the wiki for https://indiewebcamp.com/River4. Edits/improvmnts from users are welcome! @kevinmarks @julien51 @aaronpk",
            "text": "@davewiner I stubbed a page on the wiki for https://indiewebcamp.com/River4. Edits/improvmnts from users are welcome! @kevinmarks @julien51 @aaronpk",
            "target_length": 140
        },
        {
            "expected": "This is a long tweet with (foo.com/parenthesized-urls) and urls that wikipedia.org/Contain_(Parentheses), a url with a query string;foo.withknown.com/example?query=parameters",
            "text": "This is a long tweet with (foo.com/parenthesized-urls) and urls that wikipedia.org/Contain_(Parentheses), a url with a query string;foo.withknown.com/example?query=parameters",
            "target_length": 140
        },
        {
            "expected": "This is a long tweet with (foo.com/parenthesized-urls) and urls that wikipedia.org/Contain_(Parentheses), that is one charc too long\u2026",
            "text": "This is a long tweet with (foo.com/parenthesized-urls) and urls that wikipedia.org/Contain_(Parentheses), that is one charc too long:foo.withknown.com/example?query=parameters",
            "target_length": 140
        },
        {
            "expected": "The Telegram Bot API is the best bot API ever. Everyone should learn from it, especially Matrix.org\u2026 https://unrelenting.technology/notes/2015-09-05-00-35-13",
            "permalink": "https://unrelenting.technology/notes/2015-09-05-00-35-13",
            "text": "The Telegram Bot API is the best bot API ever. Everyone should learn from it, especially Matrix.org, which currently requires a particular URL structure and registration files.",
            "comment": "test case-insensitive link matching",
            "target_length": 140
        },
        {
            "text": "Leaving this here for future reference. Turn on debug menu in Mac App Store `defaults write com.apple.appstore ShowDebugMenu -bool true`",
            "expected": "Leaving this here for future reference. Turn on debug menu in Mac App Store `defaults write com.apple.appstore ShowDebugMenu\u2026",
            "comment": "com.apple should match as a domain name before the period",
            "target_length": 140
        },
        {
            "text": "url http://foo.co/bar ellipsize http://foo.co/baz",
            "target_length": 21,
            "link_length": 5,
            "expected": "url http://foo.co/bar ellipsize\u2026"
        },
        {
            "text": "too long\nextra whitespace\tbut should include url",
            "permalink": "http://obj.ca",
            "target_length": 20,
            "link_length": 5,
            "expected": "too long\u2026 http://obj.ca"
        },
        {
            "expected": "trailing slash http://www.foo.co/",
            "target_length": 20,
            "link_length": 5,
            "text": "trailing slash http://www.foo.co/"
        },
        {
            "expected": "The Article Title: http://example.com/article",
            "permalink": "http://example.com/article",
            "format": "article",
            "text": "The Article Title"
        },
        {
            "expected": "The Article Title is Longer Than Will Fit in Just One Single Tweet, and I Find This Situation to be Awfully\u2026 https://example.org/article",
            "permalink": "https://example.org/article",
            "format": "article",
            "text": "The Article Title is Longer Than Will Fit in Just One Single Tweet, and I Find This Situation to be Awfully Frustrating; How About You?",
            "target_length": 140
        },
        {
            "text": "I wrote some words about why I migrated away from Gitlab and Bitbucket to Gogs.io: https://aaronparecki.com/2016/02/13/18/ #ownyourdata #indieweb",
            "expected": "I wrote some words about why I migrated away from Gitlab and Bitbucket to Gogs.io\u2026 https://aaronparecki.com/2016/02/13/19/",
            "permalink": "https://aaronparecki.com/2016/02/13/19/",
            "target_length": 140
        },
        {
          "text": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
          "expected": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\u2026"
        },
        {
            "expected": "\u74e9 three \u2318 weighted \ud834\uf4f7\u2026",
            "text": "\u74e9 three \u2318 weighted \ud834\uf4f7 chars",
            "target_length": 27,
            "comment": "new weighted twitter char counting for 280 char limit. https://developer.twitter.com/en/docs/developer-utilities/twitter-text . note that the third unicode char is outside the basic multilingual plane, so it encodes as four bytes (at least in UTF-16) and two python 2 chars. more details: https://stackoverflow.com/a/42422325/186123"
        },
        {
            "expected": "\u5c0f\u738b\u5b50\u6545\u4e8b\u7684\u6a21\u7cca\u6027\u8cea\uff0c\u4f7f\u5f97\u6bcf\u500b\u4eba\u90fd\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u89e3\u8b80\uff0c\u53bb\u8b80\u51fa\u7576\u4e2d\u7684\u610f\u7fa9\u3002\u9019\u66f8\u662f\u5468\u4fdd\u677e\u7684\u89e3\u8b80\uff0c\u5176\u5c08\u6ce8\u7684\u91cd\u9ede\u4ecd\u7136\u662f\u54f2\u5b78\u4e0a\u7684\u9053\u5fb7\u3002\u5c0f\u738b\u5b50\u8207\u9053\u5fb7\u807d\u4e0a\u53bb\u597d\u50cf\u6c92\u6709\u95dc\u4fc2\uff0c\u4f46\u9053\u5fb7\u5c31\u662f\u6211\u5011\u884c\u4e8b\u7684\u4e00\u5957\u50f9\u503c\u89c0\uff0c\u9019\u95dc\u4fc2\u5230\u6211\u5011\u5982\u4f55\u7406\u89e3\u5c0f\u738b\u5b50\u5728\u6545\u4e8b\u7684\u884c\u52d5\uff0c\u4f8b\u5982\u4ed6\u70ba\u751a\u9ebc\u96e2\u73ab\u7470\u800c\u53bb\uff0c\u4ed6\u770b\u5230\u5176\u4ed6\u73ab\u7470\u7684\u9707\u64bc\uff0c\u72d0\u72f8\u6559\u2026",
            "text": "\u5c0f\u738b\u5b50\u6545\u4e8b\u7684\u6a21\u7cca\u6027\u8cea\uff0c\u4f7f\u5f97\u6bcf\u500b\u4eba\u90fd\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u89e3\u8b80\uff0c\u53bb\u8b80\u51fa\u7576\u4e2d\u7684\u610f\u7fa9\u3002\u9019\u66f8\u662f\u5468\u4fdd\u677e\u7684\u89e3\u8b80\uff0c\u5176\u5c08\u6ce8\u7684\u91cd\u9ede\u4ecd\u7136\u662f\u54f2\u5b78\u4e0a\u7684\u9053\u5fb7\u3002\u5c0f\u738b\u5b50\u8207\u9053\u5fb7\u807d\u4e0a\u53bb\u597d\u50cf\u6c92\u6709\u95dc\u4fc2\uff0c\u4f46\u9053\u5fb7\u5c31\u662f\u6211\u5011\u884c\u4e8b\u7684\u4e00\u5957\u50f9\u503c\u89c0\uff0c\u9019\u95dc\u4fc2\u5230\u6211\u5011\u5982\u4f55\u7406\u89e3\u5c0f\u738b\u5b50\u5728\u6545\u4e8b\u7684\u884c\u52d5\uff0c\u4f8b\u5982\u4ed6\u70ba\u751a\u9ebc\u96e2\u73ab\u7470\u800c\u53bb\uff0c\u4ed6\u770b\u5230\u5176\u4ed6\u73ab\u7470\u7684\u9707\u64bc\uff0c\u72d0\u72f8\u6559\u4ed6\u6709\u95dc\u5efa\u7acb ..."
        },
        {
            "expected": "word word word word",
            "text": "word word word word",
            "target_length": 22,
            "ellipsis": "DONE"
        },
        {
            "expected": "word word wordDONE",
            "text": "word word word word",
            "target_length": 18,
            "ellipsis": "DONE"
        },
        {
            "expected": "foo http://w.co/bar baz",
            "text": "foo http://w.co/bar baz",
            "target_length": 30,
            "link_length": null
        },
        {
            "expected": "foo http://w.co/bar\u2026",
            "text": "foo http://w.co/bar baz",
            "target_length": 22,
            "link_length": null
        }
    ]
}
